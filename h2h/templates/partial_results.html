<div class="flex mt-8 gap-y-4 justify-around sm:justify-center sm:gap-2 items-center flex-wrap p-0">
    {% for listing in listings.items %}
        <div class="h-[320px] w-[175px] md:h-[360px] md:w-[240px] card card-md bg-slate-900 shadow-sm text-white">
            <figure class="h-[233.33px]">
                <img class="" src="https://swkljpyzafsqnbjnwlck.supabase.co/storage/v1/object/public/listing-images/{{listing.image_file}}" alt="{{ listing.title }}">
            </figure>
            <div class="card-body flex flex-col p-2">
                <h2 class="card-title text-sm font-bold whitespace-nowrap">
                    {{ listing.title | truncate(24, False, '‚Ä¶') }}
                    
                </h2>
                <div class="badge border-0 bg-green-600 font-bold ">${{ listing.price }}</div>
                <div class="badge badge-outline h-fit w-fit mb-2">{{ listing.category }}</div>
                <div class="card-action justify-end">
                    <div class="grid grid-cols-2 ">
                        <div class="">
                            <div class=" mt-2 text-s">üìç{{ listing.location  }}</div>
                        </div>

                        <a href="{{ url_for('listing', listing_id=listing.id) }}" class="btn ml-2">View</a>
                    </div>
                    
                    
                </div>
            </div>
        </div>
    {%else%}
        <p class="text-4xl">No listings found</p>
    {% endfor %}
    

</div>


<div class="join mx-auto w-fit flex justify-center my-20">
{% if listings.has_prev %}
    <a 
        href="{{ url_for('dashboard', page=listings.prev_num, category=category, location=location, q=q) }}" 
        class="join-item btn font-semibold text-lg"
        hx-get="{{ url_for('dashboard', page=listings.prev_num, category=category, location=location, q=q) }}" 
        hx-target="#results" 
        hx-swap="innerHTML"
    >&#8249;&#8249;</a>
{% else %}
    <a href="#" class="join-item btn btn-disabled">&#8249;&#8249;</a>
{% endif %}

<button class="join-item btn">Page {{ listings.page }}</button>

{% if listings.has_next %}
    <a 
        href="{{ url_for('dashboard', page=listings.next_num, category=category, location=location, q=q) }}" 
        class="join-item btn  font-semibold text-lg"
        hx-get="{{ url_for('dashboard', page=listings.next_num, category=category, location=location, q=q) }}" 
        hx-target="#results" 
        hx-swap="innerHTML"
    >&#8250;&#8250;</a>
{% else %}
    <a href="#" class="join-item btn btn-disabled">&#8250;&#8250;</a>
{% endif %}
</div>
